<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Hotel List</title>
  <style>
    body{margin:1em;font-family:system-ui;background:#fff;color:#000}
    table{border-collapse:collapse;width:100%}
    th,td{border:1px solid #ccc;padding:.4em .6em;text-align:left}
    th{cursor:pointer}
  </style>
</head>
<body>
  <h1>Hotel List</h1>

  <table id="t">
    <thead>
      <tr>
        <th>Hotel</th>
        <th>Area&nbsp;/&nbsp;Town</th>
        <th>Full&nbsp;Address</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    const jsonPath = './hotels_geocoded.json';
    const tbody = document.querySelector('#t tbody');
    let hotels = [];

    fetch(jsonPath)
      .then(r => r.json())
      .then(data => { hotels = data; render('Name'); })
      .catch(console.error);

    function render(key){
      tbody.innerHTML = '';
      hotels.slice()
        .sort((a,b)=>(a[key]||'').localeCompare(b[key]||'',undefined,{sensitivity:'base'}))
        .forEach(h=>{
          const row = `<tr><td>${h.Name??'-'}</td><td>${h.Area??'-'}</td><td>${h.Address??'-'}</td></tr>`;
          tbody.insertAdjacentHTML('beforeend',row);
        });
    }

    /* sort when user clicks a column header */
    document.querySelectorAll('th').forEach(th=>{
      th.addEventListener('click', ()=>render(th.textContent.trim()));
    });
  </script>
</body>
</html>
